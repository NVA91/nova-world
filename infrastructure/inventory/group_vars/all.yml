# ============================================================================
# GLOBALE KONFIGURATION - NOVACHRIS HOME (GMKtec K12)
# ============================================================================

# ----------------------------------------------------------------------------
# 1. STORAGE (Die WD Black NVMe)
# ----------------------------------------------------------------------------
storage_config:
  # Die ID deiner WD Black (aus deiner lsblk-Suche):
  vm_disk_id: "nvme-WD_BLACK_SN7100_2TB_252726803522"
  mount_point: "/mnt/data"
  filesystem: "ext4"

# ----------------------------------------------------------------------------
# 2. APP DEFINITIONEN (Was ist möglich?)
# ----------------------------------------------------------------------------
apps_config:
  wireguard-client:
    vm: "vm-gateway"
    type: "docker-compose"
    template: "wireguard-client.yml"
    ports: ["51820:51820/udp"]

  traefik:
    vm: "vm-gateway"
    type: "docker-compose"
    template: "traefik.yml"
    ports: ["80:80", "443:443", "8080:8080"]

  paperless-ngx:
    vm: "vm-office"
    type: "docker-compose"
    template: "paperless-ngx.yml"
    ports: ["8000:8000"]
    depends_on: ["postgresql"]

  n8n:
    vm: "vm-office"
    type: "docker-compose"
    template: "n8n.yml"
    ports: ["5678:5678"]
    depends_on: ["postgresql"]

  postgresql:
    vm: "vm-office"
    type: "docker-compose"
    template: "postgresql.yml"
    ports: ["5432:5432"]

  whisper:
    vm: "vm-ai-lab"
    type: "docker-compose"
    template: "whisper.yml"
    ports: ["9000:9000"]

  ollama:
    vm: "vm-ai-lab"
    type: "docker-compose"
    template: "ollama.yml"
    ports: ["11434:11434"]

  stirling-pdf:
    vm: "vm-office"
    type: "docker-compose"
    template: "stirling-pdf.yml"
    ports: ["8080:8080"]

  syncthing:
    vm: "vm-office"
    type: "docker-compose"
    template: "syncthing.yml"
    ports: ["8384:8384", "22000:22000/tcp", "22000:22000/udp", "21027:21027/udp"]

# ----------------------------------------------------------------------------
# 3. DEPLOYMENT PROFILE (Was wird wirklich installiert?)
# ----------------------------------------------------------------------------
deployment_profiles:
  standard:
    description: "GMKtec K12 - High Performance Setup (32GB RAM)"
    vms_to_create:
      # 1. Gateway (Traefik, Wireguard)
      - name: gateway
        id: 100
        memory: 2048        # 2 GB
        cores: 2
        disk_size: 20G

      # 2. Office & Services (Paperless, DB, N8N, PDF)
      - name: office
        id: 101
        memory: 8192        # 8 GB (Wichtig für Java/Postgres)
        cores: 4
        disk_size: 100G

      # 3. AI-Lab (Ollama, Whisper)
      # JETZT: Viel RAM (CPU Modus)
      # SPÄTER: Weniger RAM (wenn RTX 5060 Ti da ist)
      - name: ai-lab
        id: 102
        memory: 18432       # 18 GB RAM
        cores: 8
        disk_size: 100G

    apps_to_deploy:
      # --- Netzwerk ---
      - wireguard-client  # Wichtig: Name muss genau wie oben in apps_config sein
      - traefik
      
      # --- Office & Workflow ---
      - postgresql
      - paperless-ngx
      - n8n               # Hatte gefehlt! Wichtig für Google Drive
      - stirling-pdf
      - syncthing
      
      # --- AI ---
      - ollama
      - whisper

# ----------------------------------------------------------------------------
# 4. SYSTEM VARIABLEN
# ----------------------------------------------------------------------------
do_validate: true
app_root: /opt/novachris_home
default_user: admin_novachris
project_name: novachris_home
project_version: "1.0.0"
enable_firewall: true
backup_enabled: true
system_timezone: "Europe/Berlin"  # Habe ich mal auf Berlin gestellt für korrekte Logs
dns_servers: ["8.8.8.8", "1.1.1.1"]
ssh_port: 22